#: import RiseInTransition kivy.uix.screenmanager.RiseInTransition

<ScreenManager1>:
    Menu:
        id: MenuId
    Ui:
        id: UiId
    Producto:
        id: ProductoId

<ProductoCard>:
    orientation: 'vertical'
    spacing: '10dp'
    padding: '10dp'
    line_color: 0,0,1,1
    #radius: 10
    rows: 2
    MDCard:
        size_hint: 1, 0.5
        orientation: 'vertical'
        pos_hint: {'center_x': .5, 'center_y':0}
        rows:3
        MDCard:
            size_hint: 1, 0.2
            spacing: '10dp'
            orientation: 'horizontal'
            cols: 2
            #line_color: 0,0,1,1
            MDIconButton:
                icon: 'arrow-u-left-top-bold'
                on_release: app.root.current = 'Ui'
            MDTextField:
                id: nombre_id
                adaptive_size: True
                text: root.nombre
                halign:'center'
                valign: 'bot'
        FitImage:
            size_hint: 1, 0.5
            adaptive_size: True
            source: root.img
            size_hint_y: .5
            size_hint_x: .5
            pos_hint: {'center_x': .5, 'center_y':.5}
            radius: '5dp'
        MDTextField:
            size_hint: 1, 0.3
            id: descripcion_id
            adaptive_size: True
            multiline: True
            text: root.descripcion
            halign: 'center'
            valign: 'bot'
    MDCard:
        size_hint: 1, 0.5
        orientation: 'vertical'
        cols: 3
        rows:2
        line_color: 0,0,1,1
        MDCard:
            size_hint: 1, 0.2
            orientation: 'horizontal'
            cols: 3
            rows:2
            MDBoxLayout:
                orientation: 'vertical'
                size_hint: 1, 1
                MDGridLayout:
                    cols: 1
                    padding: '5dp'
                    spacing: '5dp'
                    adaptive_size: True
                    MDLabel:
                        font_size: '15sp'
                        text: 'Departamento'
                        adaptive_size: True
                    MDDropDownItem:
                        id: drop_item_departamento
                        font_size: '15sp'
                        on_release: app.root.menu_dep.open()
            MDBoxLayout:
                orientation: 'vertical'
                size_hint: 1, 1
                MDGridLayout:
                    cols: 1
                    padding: '5dp'
                    spacing: '5dp'
                    adaptive_size: True
                    MDLabel:
                        font_size: '15sp'
                        text: 'Categoría'
                        adaptive_size: True
                    MDDropDownItem:
                        id: drop_item_categoria
                        font_size: '15sp'
                        on_release: app.root.menu_cat.open()
            MDBoxLayout:
                orientation: 'vertical'
                size_hint: 1, 1
                MDGridLayout:
                    cols: 1
                    padding: '5dp'
                    spacing: '5dp'
                    adaptive_size: True
                    MDLabel:
                        text: 'Subcategoria'
                        font_size: '15sp'
                        adaptive_size: True
                    MDDropDownItem:
                        id: drop_item_subcategoria
                        font_size: '15sp'
                        on_release: app.root.menu_subcat.open()

        MDCard:
            size_hint: 1, 0.8
            orientation: 'vertical'
            padding: '5dp'
            #spacing: '10dp'
            MDCard:
                size_hint: 1, 0.075
                orientation: 'horizontal'
                cols: 2
                MDLabel:
                    size_hint: .2, 1
                    text: 'Color:'
                    font_size: '18sp'
                MDTextField:
                    id: color_id
                    halign:'left'
                    text: root.color
                    adaptive_size: True
                    font_size: '18sp'
            MDCard:
                size_hint: 1, 0.075
                orientation: 'horizontal'
                cols: 4
                MDLabel:
                    size_hint: .3, 1
                    text: 'Precio venta:'
                    font_size: '15sp'
                MDTextField:
                    size_hint: .2, None
                    adaptive_size: True
                    id: precio_id
                    halign:'left'
                    text: root.precio
                    font_size: '15sp'
                MDLabel:
                    size_hint: .34, 1
                    text: 'Precio compra:'
                    font_size: '15sp'
                MDTextField:
                    id: precio_compra_id
                    adaptive_size: True
                    size_hint: .16, None
                    halign:'left'
                    text: root.precio_compra
                    font_size: '15sp'
            MDCard:
                size_hint: 1, 0.075
                orientation: 'horizontal'
                cols: 4
                MDLabel:
                    size_hint: 0.12, 1
                    text: 'SKU:'
                    font_size: '15sp'
                MDTextField:
                    id: sku_id
                    size_hint: 0.38, None
                    font_size: '15sp'
                    adaptive_size: True
                    halign:'left'
                    text: root.sku
                MDLabel:
                    size_hint: .25, 1
                    text: 'Inventario:'
                    font_size: '15sp'
                MDTextField:
                    id: inventario_id
                    size_hint: .25, None
                    text: root.Inventario
                    font_size: '15sp'
#            MDCard:
#                size_hint: 1, 0.075
#                orientation: 'horizontal'
#                cols: 4
#                #line_color: 0,1,1,1
            MDCard:
                size_hint: 1, 0.075
                orientation: 'horizontal'
                cols: 4
                #line_color: 0,1,1,1
                MDRectangleFlatButton:
                    size_hint: .6, .8
                    text: 'Actualizar'
                    on_release: app.root.update_mongo()
                    on_release: app.root.current = 'Ui'

<ElementCard@MDCard>:
    text: ''
    radius: '10dp'
    spacing: '10dp'
    padding: '10dp'
    line_color: 0,0,1,1
    ripple_behavior: True
    MDBoxLayout:
        orientation: 'vertical'
        MDLabel:
            text: root.text
            text_color: 'black'
            font_size: 50
            halign: 'center'

<ElementCard1>:
    orientation: 'vertical'
    pos_hint: {'center_x': .5, 'center_y':.5}
    size_hint: 1, 0.2
    height: '20dp'
    radius: '10dp'
    spacing: '10dp'
    padding: '10dp'
    line_color: 0,0,1,1
    ripple_behavior: True
    radius: 20
    on_release: app.root.presion(root.nombre, root.img, root.descripcion, root.Inventario, root.sku, root.color, root.precio, root._id, root.precio_compra)
    on_release: app.root.menu_item_dep(root.departamento, root.categoria, root.subcategoria)
    MDLabel:
        text: root.nombre
        halign:'center'
        font_size: '12sp'
    FitImage:
        source: root.img
        size_hint_y: 1
        radius: '10dp'
    MDLabel:
        text: root.descripcion
        halign:'center'
        font_size: '11sp'
    MDLabel:
        text: root.Inventario
        halign:'center'
        font_size: '12sp'

<Menu>:
    name: 'menu'
    MDScreen:
        name: 'Principal'
        MDBoxLayout:
            orientation: 'vertical'
            MDBoxLayout:
                size_hint: 1, .1 #x,y
                MDCard:
                    radius: '10dp'
                    padding: '10dp'
                    line_color: 1,0,1,1
                    MDLabel:
                        text: 'Menú principal'
                        font_size: 50
                        halign: 'center'
            MDGridLayout:
                size_hint: 1, .9 #x,y
                cols: 1
                padding: '25dp'
                spacing: '25dp'

                ElementCard:
                    text: 'Productos'
                    on_release:
                        app.root.current = 'Ui'
                        root.manager.transition.direction = 'left'
                ElementCard:
                    text: 'Tienda'

<Ui>:
    name: 'Ui'
    MDScreen:
        MDBoxLayout:
            orientation: 'vertical'
            radius: '10dp'
            padding: '10dp'
            spacing: '10dp'

            MDLabel:
                size_hint: 1, .1 #x,y
                text: 'Inventario'
                font_size: 20
                halign: 'center'
            MDBoxLayout:
                orientation: 'horizontal'
                size_hint: .7, .12
                halign: 'left'
                MDTextField:
                    id: InventarioSearch
                    size_hint: .8, 1
                    hint_text: "Nombre del producto"
                    halign:'left'
                    valign:'top'
                    on_text: root.search()
                MDIconButton:
                    id: BotonInventarioBuscar
                    size_hint: .2, 1
                    icon: "database-search"
                    halign:'left'
                    valign:'top'
                    on_release: root.search()
            RV:
                viewclass: 'ElementCard1'
                id: recyleview
                RecycleGridLayout:
                    cols: 3
                    padding: '10dp'
                    spacing: '10dp'
                    default_size: None, '300dp'
                    default_size_hint: 1, None
                    size_hint_y: None
                    height: self.minimum_height
                    MDIconButton:

<Producto>:
    name: 'Producto'
    id: 'Producto'
    MDScreen:
        MDBoxLayout:
            orientation: 'vertical'
            radius: '10dp'
            padding: '10dp'
            spacing: '10dp'
            ProductoCard:
                id: PCId


